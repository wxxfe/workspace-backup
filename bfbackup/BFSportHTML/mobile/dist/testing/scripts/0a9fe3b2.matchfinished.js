/* baofeng_sports - version  - 2016-12-02 10:12:00Baofeng Sports */

/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */

/* Zepto v1.2.0-2-gb65fb14 - zepto event ajax form ie callbacks deferred - zeptojs.com/license */

/*! npm.im/iphone-inline-video */

/*!
 * An jQuery | zepto plugin for lazy loading images.
 * author -> jieyou
 * see https://github.com/jieyou/lazyload
 * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)
 * use component's throttle https://github.com/component/throttle (MIT)
 */

function Button(e){return this.element=e.element,this.init(),this}function ButtonFactory(e){return new Button(e)}function throttle(e,t,n,i){var r,o,a,s=+new Date,c=0,l=0,u=null,d=function(){l=s,e.apply(o,a)};return function(){s=+new Date,o=this,a=arguments,r=s-(i?c:l)-t,clearTimeout(u),i?n?u=setTimeout(d,t):r>=0&&d():r>=0?d():n&&(u=setTimeout(d,-r)),c=s}}function debounce(e,t,n){return throttle(e,t,n,!0)}function percentToDecimal(e){return parseFloat(e.substring(0,e.length-1))/100}function millisecondsToDecimal(e,t){return e/t}function timespanToMilliseconds(e){var t,n,i=e.split(":"),r=new Date("2016/10/12 00:00:00");return 2==i.length?(t=new Date("2016/10/12 00:"+e),n=t.getTime()-r.getTime(n)):3==i.length?(t=new Date("2016/10/12 "+e),n=t.getTime()-r.getTime()):n="00:00",n}function millisecondsToTimespan(e,t){var n,i=new Date("2016/10/12 00:00:00"),r=new Date(i.getTime()+e),o=r.toTimeString().split(" ")[0];return n=t?o:o.substring(o.indexOf(":")+1,o.length)}function BaseComp(){return this}function ListItem(){return this}function ListItemFactory(e){return(new ListItem).init(e)}function List(){return this}function ListFactory(e){return(new List).init(e)}function Video(){return this}function VideoFactory(e){return(new Video).init(e)}function Progress(){return this}function ProgressFactory(e){return(new Progress).init(e)}function VideoControlPanel(){return this}function VideoControlPanelFactory(e){return(new VideoControlPanel).init(e)}function VideoPlayer(){return this}function VideoPlayerFactory(e){return(new VideoPlayer).init(e)}function VideoPlayerShare(){return this}function VideoPlayerShareFactory(e){return(new VideoPlayerShare).init(e)}function VideoList(){return this}function VideoListFactory(e){return(new VideoList).init(e)}function Toast(){return this}function ToastFactory(e){return(new Toast).init(e)}function ChannelShare(){return this.downloadButton=$(".download-button"),this.newsA=$(".news-action a"),this.loadIframe=null,this.init(),this}function ChannelShareFactory(){return new ChannelShare}function SharePage(){return this.init(),this}function SharePageFactory(){return new SharePage}!function(){"use strict";function e(t,i){function r(e,t){return function(){return e.apply(t,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=a.length;c<l;c++)s[a[c]]=r(s[a[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-a>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return!(!i||r||(c=u.fastClickScrollParent,!c||c.fastClickLastScrollTop===c.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("components/libs/fastclick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),!function(e,t){"function"==typeof define&&define.amd?define("components/libs/zepto.min",[],function(){return t(e)}):t(e)}(this,function(e){var t=function(){function t(e){return null==e?String(e):X[Y.call(e)]||"object"}function n(e){return"function"==t(e)}function i(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(e){return"object"==t(e)}function a(e){return o(e)&&!i(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){var t=!!e&&"length"in e&&e.length,n=A.type(e);return"function"!=n&&!i(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e){return V.call(e,function(e){return null!=e})}function l(e){return e.length>0?A.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(e){return e in I?I[e]:I[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||B[u(e)]?t:t+"px"}function h(e){var t,n;return j[e]||(t=D.createElement(e),D.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),j[e]=n),j[e]}function p(e){return"children"in e?N.call(e.children):A.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function m(e,t){var n,i=e?e.length:0;for(n=0;i>n;n++)this[n]=e[n];this.length=i,this.selector=t||""}function v(e,t,n){for(C in t)n&&(a(t[C])||ee(t[C]))?(a(t[C])&&!a(e[C])&&(e[C]={}),ee(t[C])&&!ee(e[C])&&(e[C]=[]),v(e[C],t[C],n)):t[C]!==T&&(e[C]=t[C])}function g(e,t){return null==t?A(e):A(e).filter(t)}function y(e,t,i,r){return n(t)?t.call(e,i,r):t}function S(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",i=n&&n.baseVal!==T;return t===T?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function E(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?A.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)w(e.childNodes[n],t)}var T,C,A,P,k,_,x=[],L=x.concat,V=x.filter,N=x.slice,D=e.document,j={},I={},B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,O=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,R=/([A-Z])/g,q=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],H=D.createElement("table"),Z=D.createElement("tr"),W={tr:D.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:Z,th:Z,"*":D.createElement("div")},G=/complete|loaded|interactive/,J=/^[\w-]*$/,X={},Y=X.toString,$={},Q=D.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ee=Array.isArray||function(e){return e instanceof Array};return $.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=Q).appendChild(e),i=~$.qsa(r,t).indexOf(e),o&&Q.removeChild(e),i},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},_=function(e){return V.call(e,function(t,n){return e.indexOf(t)==n})},$.fragment=function(e,t,n){var i,r,o;return O.test(e)&&(i=A(D.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===T&&(t=M.test(e)&&RegExp.$1),t in W||(t="*"),o=W[t],o.innerHTML=""+e,i=A.each(N.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(r=A(i),A.each(n,function(e,t){q.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},$.Z=function(e,t){return new m(e,t)},$.isZ=function(e){return e instanceof $.Z},$.init=function(e,t){var i;if(!e)return $.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&M.test(e))i=$.fragment(e,RegExp.$1,t),e=null;else{if(t!==T)return A(t).find(e);i=$.qsa(D,e)}else{if(n(e))return A(D).ready(e);if($.isZ(e))return e;if(ee(e))i=c(e);else if(o(e))i=[e],e=null;else if(M.test(e))i=$.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==T)return A(t).find(e);i=$.qsa(D,e)}}return $.Z(i,e)},A=function(e,t){return $.init(e,t)},A.extend=function(e){var t,n=N.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},$.qsa=function(e,t){var n,i="#"==t[0],r=!i&&"."==t[0],o=i||r?t.slice(1):t,a=J.test(o);return e.getElementById&&a&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:N.call(a&&!i&&e.getElementsByClassName?r?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},A.contains=D.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},A.type=t,A.isFunction=n,A.isWindow=i,A.isArray=ee,A.isPlainObject=a,A.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},A.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},A.inArray=function(e,t,n){return x.indexOf.call(t,e,n)},A.camelCase=k,A.trim=function(e){return null==e?"":String.prototype.trim.call(e)},A.uuid=0,A.support={},A.expr={},A.noop=function(){},A.map=function(e,t){var n,i,r,o=[];if(s(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return l(o)},A.each=function(e,t){var n,i;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},A.grep=function(e,t){return V.call(e,t)},e.JSON&&(A.parseJSON=JSON.parse),A.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),A.fn={constructor:$.Z,length:0,forEach:x.forEach,reduce:x.reduce,push:x.push,sort:x.sort,splice:x.splice,indexOf:x.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=$.isZ(t)?t.toArray():t;return L.apply($.isZ(this)?this.toArray():this,n)},map:function(e){return A(A.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return A(N.apply(this,arguments))},ready:function(e){return G.test(D.readyState)&&D.body?e(A):D.addEventListener("DOMContentLoaded",function(){e(A)},!1),this},get:function(e){return e===T?N.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return x.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return n(e)?this.not(this.not(e)):A(V.call(this,function(t){return $.matches(t,e)}))},add:function(e,t){return A(_(this.concat(A(e,t))))},is:function(e){return this.length>0&&$.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==T)this.each(function(n){e.call(this,n)||t.push(this)});else{var i="string"==typeof e?this.filter(e):s(e)&&n(e.item)?N.call(e):A(e);this.forEach(function(e){i.indexOf(e)<0&&t.push(e)})}return A(t)},has:function(e){return this.filter(function(){return o(e)?A.contains(this,e):A(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:A(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:A(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?A(e).filter(function(){var e=this;return x.some.call(n,function(t){return A.contains(t,e)})}):1==this.length?A($.qsa(this[0],e)):this.map(function(){return $.qsa(this,e)}):A()},closest:function(e,t){var n=[],i="object"==typeof e&&A(e);return this.each(function(o,a){for(;a&&!(i?i.indexOf(a)>=0:$.matches(a,e));)a=a!==t&&!r(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)}),A(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=A.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return g(t,e)},parent:function(e){return g(_(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||N.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return V.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return A.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=n(e);if(this[0]&&!t)var i=A(e).get(0),r=i.parentNode||this.length>1;return this.each(function(n){A(this).wrapAll(t?e.call(this,n):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){A(this[0]).before(e=A(e));for(var t;(t=e.children()).length;)e=t.first();A(e).append(this)}return this},wrapInner:function(e){var t=n(e);return this.each(function(n){var i=A(this),r=i.contents(),o=t?e.call(this,n):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){A(this).replaceWith(A(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=A(this);(e===T?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return A(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return A(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;A(this).empty().append(y(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=y(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(C in e)S(this,C,e[C]);else S(this,e,y(this,t,n,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(e))?n:T},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){S(this,e)},this)})},prop:function(e,t){return e=K[e]||e,1 in arguments?this.each(function(n){this[e]=y(this,t,n,this[e])}):this[0]&&this[0][e]},removeProp:function(e){return e=K[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(R,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?E(i):T},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=y(this,e,t,this.value)})):this[0]&&(this[0].multiple?A(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=A(this),i=y(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(D.documentElement!==this[0]&&!A.contains(D.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(e,n){if(arguments.length<2){var i=this[0];if("string"==typeof e){if(!i)return;return i.style[k(e)]||getComputedStyle(i,"").getPropertyValue(e)}if(ee(e)){if(!i)return;var r={},o=getComputedStyle(i,"");return A.each(e,function(e,t){r[t]=i.style[k(t)]||o.getPropertyValue(t)}),r}}var a="";if("string"==t(e))n||0===n?a=u(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(C in e)e[C]||0===e[C]?a+=u(C)+":"+f(C,e[C])+";":this.each(function(){this.style.removeProperty(u(C))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(A(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&x.some.call(this,function(e){return this.test(b(e))},d(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){P=[];var n=b(this),i=y(this,e,t,n);i.split(/\s+/g).forEach(function(e){A(this).hasClass(e)||P.push(e)},this),P.length&&b(this,n+(n?" ":"")+P.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===T)return b(this,"");P=b(this),y(this,e,t,P).split(/\s+/g).forEach(function(e){P=P.replace(d(e)," ")}),b(this,P.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=A(this),r=y(this,e,n,b(this));r.split(/\s+/g).forEach(function(e){(t===T?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===T?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===T?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(A(e).css("margin-top"))||0,n.left-=parseFloat(A(e).css("margin-left"))||0,i.top+=parseFloat(A(t[0]).css("border-top-width"))||0,i.left+=parseFloat(A(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||D.body;e&&!U.test(e.nodeName)&&"static"==A(e).css("position");)e=e.offsetParent;return e})}},A.fn.detach=A.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});A.fn[e]=function(n){var o,a=this[0];return n===T?i(a)?a["inner"+t]:r(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){a=A(this),a.css(e,y(this,n,t,a[e]()))})}}),z.forEach(function(n,i){var r=i%2;A.fn[n]=function(){var n,o,a=A.map(arguments,function(e){var i=[];return n=t(e),"array"==n?(e.forEach(function(e){return e.nodeType!==T?i.push(e):A.zepto.isZ(e)?i=i.concat(e.get()):void(i=i.concat($.fragment(e)))}),i):"object"==n||null==e?e:$.fragment(e)}),s=this.length>1;return a.length<1?this:this.each(function(t,n){o=r?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var c=A.contains(D.documentElement,o);a.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return A(t).remove();o.insertBefore(t,n),c&&w(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var n=t.ownerDocument?t.ownerDocument.defaultView:e;n.eval.call(n,t.innerHTML)}})})})},A.fn[r?n+"To":"insert"+(i?"Before":"After")]=function(e){return A(e)[n](this),this}}),$.Z.prototype=m.prototype=A.fn,$.uniq=_,$.deserializeValue=E,A.zepto=$,A}();return e.Zepto=t,void 0===e.$&&(e.$=t),function(t){function n(e){return e._zid||(e._zid=h++)}function i(e,t,i,a){if(t=r(t),t.ns)var s=o(t.ns);return(g[n(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||s.test(e.ns))&&(!i||n(e.fn)===n(i))&&(!a||e.sel==a)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function a(e,t){return e.del&&!S&&e.e in b||!!t}function s(e){return E[e]||S&&b[e]||e}function c(e,i,o,c,l,d,h){var p=n(e),m=g[p]||(g[p]=[]);i.split(/\s/).forEach(function(n){if("ready"==n)return t(document).ready(o);var i=r(n);i.fn=o,i.sel=l,i.e in E&&(o=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=d;var p=d||o;i.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=c;var n=p.apply(e,t._args==f?[t]:[t].concat(t._args));return n===!1&&(t.preventDefault(),t.stopPropagation()),n}},i.i=m.length,m.push(i),"addEventListener"in e&&e.addEventListener(s(i.e),i.proxy,a(i,h))})}function l(e,t,r,o,c){var l=n(e);(t||"").split(/\s/).forEach(function(t){i(e,t,r,o).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,a(t,c))})})}function u(e,n){if(n||!e.isDefaultPrevented){n||(n=e),t.each(A,function(t,i){var r=n[t];e[t]=function(){return this[i]=w,r&&r.apply(n,arguments)},e[i]=T});try{e.timeStamp||(e.timeStamp=Date.now())}catch(e){}(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)}return e}function d(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===f||(n[t]=e[t]);return u(n,e)}var f,h=1,p=Array.prototype.slice,m=t.isFunction,v=function(e){return"string"==typeof e},g={},y={},S="onfocusin"in e,b={focus:"focusin",blur:"focusout"},E={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",t.event={add:c,remove:l},t.proxy=function(e,i){var r=2 in arguments&&p.call(arguments,2);if(m(e)){var o=function(){return e.apply(i,r?r.concat(p.call(arguments)):arguments)};return o._zid=n(e),o}if(v(i))return r?(r.unshift(e[i],e),t.proxy.apply(null,r)):t.proxy(e[i],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var w=function(){return!0},T=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,A={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,o){var a,s,u=this;return e&&!v(e)?(t.each(e,function(e,t){u.on(e,n,i,t,o)}),u):(v(n)||m(r)||r===!1||(r=i,i=n,n=f),(r===f||i===!1)&&(r=i,i=f),r===!1&&(r=T),u.each(function(u,f){o&&(a=function(e){return l(f,e.type,r),r.apply(this,arguments)}),n&&(s=function(e){var i,o=t(e.target).closest(n,f).get(0);return o&&o!==f?(i=t.extend(d(e),{currentTarget:o,liveFired:f}),(a||r).apply(o,[i].concat(p.call(arguments,1)))):void 0}),c(f,e,r,i,n,s||a)}))},t.fn.off=function(e,n,i){var r=this;return e&&!v(e)?(t.each(e,function(e,t){r.off(e,n,t)}),r):(v(n)||m(i)||i===!1||(i=n,n=f),i===!1&&(i=T),r.each(function(){l(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=v(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var r,o;return this.each(function(a,s){r=d(v(e)?t.Event(e):e),r._args=n,r.target=s,t.each(i(s,e.type||e),function(e,t){return o=t.proxy(r),!r.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),u(n)}}(t),function(t){function n(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function i(e,t,i,r){return e.global?n(t||b,i,r):void 0}function r(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function a(e,t){var n=t.context;return t.beforeSend.call(n,e,t)!==!1&&i(t,n,"ajaxBeforeSend",[e,t])!==!1&&void i(t,n,"ajaxSend",[e,t])}function s(e,t,n,r){var o=n.context,a="success";n.success.call(o,e,a,t),r&&r.resolveWith(o,[e,a,t]),i(n,o,"ajaxSuccess",[t,n,e]),l(a,t,n)}function c(e,t,n,r,o){var a=r.context;r.error.call(a,n,t,e),o&&o.rejectWith(a,[n,t,e]),i(r,a,"ajaxError",[n,r,e||t]),l(t,n,r)}function l(e,t,n){var r=n.context;n.complete.call(r,t,e),i(n,r,"ajaxComplete",[t,n]),o(n)}function u(e,t,n){if(n.dataFilter==d)return e;var i=n.context;return n.dataFilter.call(i,e,t)}function d(){}function f(e){return e&&(e=e.split(";",2)[0]),e&&(e==A?"html":e==C?"json":w.test(e)?"script":T.test(e)&&"xml")||"text"}function h(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=h(e.url,e.data),e.data=void 0)}function m(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function v(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){o=t.type(c),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?e.add(c.name,c.value):"array"==o||!i&&"object"==o?v(e,c,i,n):e.add(n,c)})}var g,y,S=+new Date,b=e.document,E=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,T=/^(?:text|application)\/xml/i,C="application/json",A="text/html",P=/^\s*$/,k=b.createElement("a");k.href=e.location.href,t.active=0,t.ajaxJSONP=function(n,i){if(!("type"in n))return t.ajax(n);var r,o,l=n.jsonpCallback,u=(t.isFunction(l)?l():l)||"Zepto"+S++,d=b.createElement("script"),f=e[u],h=function(e){t(d).triggerHandler("error",e||"abort")},p={abort:h};return i&&i.promise(p),t(d).on("load error",function(a,l){clearTimeout(o),t(d).off().remove(),
"error"!=a.type&&r?s(r[0],p,n,i):c(null,l||"error",p,n,i),e[u]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0}),a(p,n)===!1?(h("abort"),p):(e[u]=function(){r=arguments},d.src=n.url.replace(/\?(.+)=\?/,"?$1="+u),b.head.appendChild(d),n.timeout>0&&(o=setTimeout(function(){h("timeout")},n.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:d,success:d,error:d,complete:d,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:C,xml:"application/xml, text/xml",html:A,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:d},t.ajax=function(n){var i,o,l=t.extend({},n||{}),m=t.Deferred&&t.Deferred();for(g in t.ajaxSettings)void 0===l[g]&&(l[g]=t.ajaxSettings[g]);r(l),l.crossDomain||(i=b.createElement("a"),i.href=l.url,i.href=i.href,l.crossDomain=k.protocol+"//"+k.host!=i.protocol+"//"+i.host),l.url||(l.url=e.location.toString()),(o=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,o)),p(l);var v=l.dataType,S=/\?.+=\?/.test(l.url);if(S&&(v="jsonp"),l.cache!==!1&&(n&&n.cache===!0||"script"!=v&&"jsonp"!=v)||(l.url=h(l.url,"_="+Date.now())),"jsonp"==v)return S||(l.url=h(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),t.ajaxJSONP(l,m);var E,w=l.accepts[v],T={},C=function(e,t){T[e.toLowerCase()]=[e,t]},A=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:e.location.protocol,_=l.xhr(),x=_.setRequestHeader;if(m&&m.promise(_),l.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",w||"*/*"),(w=l.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),_.overrideMimeType&&_.overrideMimeType(w)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&C("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(y in l.headers)C(y,l.headers[y]);if(_.setRequestHeader=C,_.onreadystatechange=function(){if(4==_.readyState){_.onreadystatechange=d,clearTimeout(E);var e,n=!1;if(_.status>=200&&_.status<300||304==_.status||0==_.status&&"file:"==A){if(v=v||f(l.mimeType||_.getResponseHeader("content-type")),"arraybuffer"==_.responseType||"blob"==_.responseType)e=_.response;else{e=_.responseText;try{e=u(e,v,l),"script"==v?(0,eval)(e):"xml"==v?e=_.responseXML:"json"==v&&(e=P.test(e)?null:t.parseJSON(e))}catch(e){n=e}if(n)return c(n,"parsererror",_,l,m)}s(e,_,l,m)}else c(_.statusText||null,_.status?"error":"abort",_,l,m)}},a(_,l)===!1)return _.abort(),c(null,"abort",_,l,m),_;var L=!("async"in l)||l.async;if(_.open(l.type,l.url,L,l.username,l.password),l.xhrFields)for(y in l.xhrFields)_[y]=l.xhrFields[y];for(y in T)x.apply(_,T[y]);return l.timeout>0&&(E=setTimeout(function(){_.onreadystatechange=d,_.abort(),c(null,"timeout",_,l,m)},l.timeout)),_.send(l.data?l.data:null),_},t.get=function(){return t.ajax(m.apply(null,arguments))},t.post=function(){var e=m.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=m.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,a=e.split(/\s/),s=m(e,n,i),c=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(e){o.html(r?t("<div>").html(e.replace(E,"")).find(r):e),c&&c.apply(o,arguments)},t.ajax(s),this};var _=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(_(e)+"="+_(n))},v(i,e,n),i.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,i=[],r=function(e){return e.forEach?e.forEach(r):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),function(e){e.Callbacks=function(t){t=e.extend({},t);var n,i,r,o,a,s,c=[],l=!t.once&&[],u=function(e){for(n=t.memory&&e,i=!0,s=o||0,o=0,a=c.length,r=!0;c&&a>s;++s)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}r=!1,c&&(l?l.length&&u(l.shift()):n?c.length=0:d.disable())},d={add:function(){if(c){var i=c.length,s=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&s(n)})};s(arguments),r?a=c.length:n&&(o=i,u(n))}return this},remove:function(){return c&&e.each(arguments,function(t,n){for(var i;(i=e.inArray(n,c,i))>-1;)c.splice(i,1),r&&(a>=i&&--a,s>=i&&--s)}),this},has:function(t){return!(!c||!(t?e.inArray(t,c)>-1:c.length))},empty:function(){return a=c.length=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||i&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!i}};return d}}(t),function(e){function t(n){var i=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(i,function(i,r){var s=e.isFunction(n[i])&&n[i];a[r[1]](function(){var n=s&&s.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var i=this===o?t.promise():this,a=s?[n]:arguments;t[r[0]+"With"](i,a)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,o):o}},a={};return e.each(i,function(e,t){var n=t[2],s=t[3];o[t[1]]=n.add,s&&n.add(function(){r=s},i[1^e][2].disable,i[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?o:this,arguments),this},a[t[0]+"With"]=n.fireWith}),o.promise(a),n&&n.call(a,a),a}var n=Array.prototype.slice;e.when=function(i){var r,o,a,s=n.call(arguments),c=s.length,l=0,u=1!==c||i&&e.isFunction(i.promise)?c:0,d=1===u?i:t(),f=function(e,t,i){return function(o){t[e]=this,i[e]=arguments.length>1?n.call(arguments):o,i===r?d.notifyWith(t,i):--u||d.resolveWith(t,i)}};if(c>1)for(r=new Array(c),o=new Array(c),a=new Array(c);c>l;++l)s[l]&&e.isFunction(s[l].promise)?s[l].promise().done(f(l,a,s)).fail(d.reject).progress(f(l,o,r)):--u;return u||d.resolveWith(a,s),d.promise()},e.Deferred=t}(t),t});var makeVideoPlayableInline=function(){"use strict";function e(e){function t(r){n=requestAnimationFrame(t),e(r-(i||r)),i=r}var n,i;this.start=function(){n||t(0)},this.stop=function(){cancelAnimationFrame(n),n=null,i=0}}function t(e,t,n,i){function r(t){Boolean(e[n])===Boolean(i)&&t.stopImmediatePropagation(),delete e[n]}return e.addEventListener(t,r,!1),r}function n(e,t,n,i){function r(){return n[t]}function o(e){n[t]=e}i&&o(e[t]),Object.defineProperty(e,t,{get:r,set:o})}function i(e,t,n){n.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function r(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function o(e){var t=new Audio;return i(e,"play",t),i(e,"playing",t),i(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function a(e,t,n){(p||0)+200<Date.now()&&(e[y]=!0,p=Date.now()),n||(e.currentTime=t),E[++w%3]=100*t|0}function s(e){return e.driver.currentTime>=e.video.duration}function c(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&s(t)&&(t.driver.currentTime=0)),a(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[y],t.video.pause(!0))}function l(){var e=this,t=e[g];return e.webkitDisplayingFullscreen?void e[S]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(a(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(r(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&r(e,"playing")))))}function u(e){var t=this,n=t[g];n.driver.pause(),n.updater.stop(),t.webkitDisplayingFullscreen&&t[b](),n.paused&&!e||(n.paused=!0,n.hasAudio||r(t,"pause"),t.ended&&(t[y]=!0,r(t,"ended")))}function d(t,n){var i=t[g]={};i.paused=!0,i.hasAudio=n,i.video=t,i.updater=new e(c.bind(i)),n?i.driver=o(t):(t.addEventListener("canplay",function(){t.paused||r(t,"playing")}),i.driver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){i.driver.paused=!0},play:function(){i.driver.paused=!1,s(i)&&a(t,0)},get ended(){return s(i)}}),t.addEventListener("emptied",function(){var e=!i.driver.src||"data:"===i.driver.src;i.driver.src&&i.driver.src!==t.src&&(a(t,0,!0),i.driver.src=t.src,e?i.driver.play():i.updater.stop())},!1),t.addEventListener("webkitbeginfullscreen",function(){t.paused?n&&!i.driver.buffered.length&&i.driver.load():(t.pause(),t[S]())}),n&&(t.addEventListener("webkitendfullscreen",function(){i.driver.currentTime=t.currentTime}),t.addEventListener("seeking",function(){E.indexOf(100*t.currentTime|0)<0&&(i.driver.currentTime=t.currentTime)}))}function f(e){var i=e[g];e[S]=e.play,e[b]=e.pause,e.play=l,e.pause=u,n(e,"paused",i.driver),n(e,"muted",i.driver,!0),n(e,"playbackRate",i.driver,!0),n(e,"ended",i.driver),n(e,"loop",i.driver,!0),t(e,"seeking"),t(e,"seeked"),t(e,"timeupdate",y,!1),t(e,"ended",y,!1)}function h(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),n&&!v||e[g]||(d(e,t),f(e),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),"MacIntel"!==navigator.platform&&"Windows"!==navigator.platform||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var p,m="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol,v=/iPhone|iPod/i.test(navigator.userAgent)&&void 0===document.head.style.grid,g=m(),y=m(),S=m("nativeplay"),b=m("nativepause"),E=[],w=0;return h.isWhitelisted=v,h}();define("components/libs/iphone-inline-video.browser",function(){}),DeviceApi={APP_SCHEMA:"BFSports://sports.baofeng.com",YYB_APP_URL:"http://a.app.qq.com/o/simple.jsp?pkgname=com.sports.baofeng",openApp:function(e){DeviceApi.loadSchema(e)},downloadApp:function(){var e=Utils.getUrlParam(window.location.href,"channel");e&&"undefined"!=e||(e="a01"),top.location.href="http://jump.sports.baofeng.com/mobile/bfsport/bfsports_"+e+".apk"},jumpTo:function(e){"app"===Utils.pageType?DeviceApi.jumpToInApp(e):DeviceApi.jumpToInShare(e)},jumpToInApp:function(e){var t=$(e).data("info");if(t)if(window.webplay.jumpTo){var n={};n.type=t.type,n.data=t,window.webplay.jumpTo(JSON.stringify(n))}else"gallery"===t.type?window.webplay.jumpToGallery(t.id,t.title,t.image,t.brief):"video"===t.type?window.webplay.jumpToVideo(t.title,t.site,t.id,t.image,t.play_url,t.play_code,t.isvr):"news"===t.type&&window.webplay.jumpToNews(t.id,t.title,t.image,t.large_img)},jumpToInShare:function(e){var t=$(e),n=t.data("url"),i=t.data("info"),r=DeviceApi.getAppUrl(i);n&&(/(\/share)$/.test(n)?window.location.href=n+"?__appurl="+r:window.location.href=n+"/share?__appurl="+r)},shareTo:function(e){window.webplay.shareTo&&window.webplay.shareTo(e)},getAppUrl:function(e){var t=DeviceApi.APP_SCHEMA;return e&&(t+="/"+e.type+"?"+Utils.convertJsonToUrlParams(e),"news"===e.type&&(t+="&largeimage="+e.large_image)),t},loadSchema:function(e,t){if(top.location.href=e,t){var n=Date.now(),i=1600,r=setTimeout(function(){document.hidden||document.webkitHidden||Date.now()-n>i+200||(top.location.href=t)},i),o=function(){var e=document.hidden||document.webkitHidden;e&&clearTimeout(r)};document.addEventListener("visibilitychange",o,!1),document.addEventListener("webkitvisibilitychange",o,!1),window.addEventListener("pagehide",function(){clearTimeout(r)},!1)}},videoEnterFullScreen:function(){window.webplay&&window.webplay.videoEnterFullScreen&&window.webplay.videoEnterFullScreen()},videoExitFullScreen:function(){window.webplay&&window.webplay.videoExitFullScreen&&window.webplay.videoExitFullScreen()}},define("components/deviceapi/index",function(){}),Button.fn=Button.prototype,Button.fn.init=function(){this._registerEvents()},Button.fn._registerEvents=function(){this.element.addEventListener("touchstart",this._touchHandler.bind(this)),this.element.addEventListener("touchend",this._touchHandler.bind(this))},Button.fn._touchHandler=function(e){this.element.classList.toggle("is-tapping")},define("components/button/index",function(){}),Utils={convertJsonToUrlParams:function(e){var t=[],n="";"string"==typeof e&&(e=JSON.parse(e));for(var i in e)t.push(i+"="+encodeURIComponent(e[i])+"&");return t.length&&(n=t.join(""),n=n.substr(0,n.length-1)),n},getUrlParam:function(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=e.split("?"),r=i[1]&&i[1].match(n);return r?decodeURIComponent(r[2]):""},browserInfo:{isIos:/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),isAndroid:/(Android)/i.test(navigator.userAgent),isWeiXin:/MicroMessenger/i.test(navigator.userAgent),isQQ:/qq\//i.test(navigator.userAgent),isQQWeibo:/txmicroblog/i.test(navigator.userAgent),isWeibo:/weibo/i.test(navigator.userAgent),iosVersion:function(){var e=navigator.userAgent.match(/iPhone os ([0-9]+)_/i);return e?parseInt(e[1]):-1}(),isMobileDevice:function(e){return!!/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser|WindowsWechat)/i.test(navigator.userAgent)}()},pageType:function(){var e=document.querySelector("#page-type"),t=e&&e.value;return t}(),isInApp:function(){var e=document.querySelector("#page-type"),t=e&&e.value;return"app"===t}(),loadJs:function(e,t){var n,i=document.createElement("script"),r=!1;i.src=e,i.async=!0,i.onload=i.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,i.onload=i.onreadystatechange=null,i&&i.parentNode&&t&&t())},n||(n=document.getElementsByTagName("head")[0]),n.appendChild(i)},randomString:function(e){e=e||32;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="";for(i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}},define("components/abase/util",function(){}),BaseComp.prototype.init=function(e){this.Top=e.top||e.Top},BaseComp.prototype.on=function(e,t){e=e.toLowerCase(),this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t}),this},BaseComp.prototype.trigger=function(e){var t=Array.prototype.slice.call(arguments,1);e=e.toLowerCase();var n=function(){if(this._events&&this._events[e])for(var i=this._events[e],r=0,o=i.length;r<o;r++)i[r].callback.apply(this,t);this.Top&&n.apply(this.Top,arguments)};n.apply(this,arguments)},BaseComp.prototype.invoke=function(e){var t=Array.prototype.slice.call(arguments,1),n=function(){if(this[e])this[e].apply(this,t);else if(this.Parts)for(var i in this.Parts)n.apply(this.Parts[i],arguments)};n.apply(this,arguments)},BaseComp.prototype.show=function(){return this.element.classList.remove("hide"),this},BaseComp.prototype.hide=function(){return this.element.classList.add("hide"),this},BaseComp.prototype.addClass=function(e){return this.element.classList.add(e),this},BaseComp.prototype.removeClass=function(e){return this.element.classList.remove(e),this},BaseComp.prototype.hasClass=function(e){return this.element.classList.contains(e)},BaseComp.prototype.isHiding=function(){return this.element.classList.contains("hide")},define("components/abase/index",function(){}),ListItem.fn=ListItem.prototype,ListItem.fn.init=function(e){return this.element=e.element,this.onAnswerSubmit=e.onAnswerSubmit,this._registerEvents(),this},ListItem.fn._registerEvents=function(){var e=this;this.element.querySelector(".close")&&this.element.querySelector(".close").addEventListener("click",function(){e.element.classList.add("hide")}),this.element.addEventListener("click",function(){DeviceApi.jumpTo(this.querySelector("a"))})},ListItem.fn.show=function(){this.element.classList.remove("hide")},ListItem.fn.hide=function(){this.element.classList.add("hide")},define("components/listitem/index",function(){}),List.fn=List.prototype,List.fn.init=function(e){return this.element=e.element,this.Parts={},this._initParts(),this._registerEvents(),this},List.fn._initParts=function(){for(var e=this.element.querySelectorAll(".list-item"),t=0,n=e.length;t<n;t++)ListItemFactory({element:e[t]})},List.fn._registerEvents=function(){},define("components/list/index",function(){}),Video.prototype=new BaseComp,Video.prototype.constructor=Video,Video.fn=Video.prototype,Video.fn.parentInit=Video.fn.init,Video.State={UNSTARTED:"unstarted",PLAYING:"playing",PAUSED:"paused",ENDED:"ended"},Video.fn.init=function(e){return Video.fn.parentInit.call(this,e),this.options=e,this.element=e.element,this.hasStarted=!1,this.Parts={},this._initParts(),window.makeVideoPlayableInline&&window.makeVideoPlayableInline(this.element,!this.element.hasAttribute("muted"),!0),this._registerEvents(),this},Video.fn._initParts=function(e){},Video.fn._registerEvents=function(){for(var e=this,t=["canplay","loadedmetadata","timeupdate","waiting","progress","play","pause","ended","click"],n=0,i=t.length;n<i;n++)this.element.addEventListener(t[n],function(n){return function(){e.trigger(t[n])}}(n));this.element.addEventListener("play",function(){e.hasStarted=!0})},Video.fn.play=function(){this.element.play()},Video.fn.pause=function(){this.element.pause()},Video.fn.isPaused=function(){return this.element.paused},Video.fn.getDuration=function(){return 1e3*this.element.duration},Video.fn.getCurrentTime=function(){return 1e3*this.element.currentTime},Video.fn.setCurrentTime=function(e){return this.element.currentTime=e/1e3},Video.fn.getBuffered=function(){return this.element.buffered},Video.fn.enterFullScreen=function(){return this.element.webkitEnterFullScreen()},Video.fn.exitFullScreen=function(){return this.element.webkitExitFullScreen()},Video.fn.getHasStarted=function(){return this.hasStarted},Video.fn.setSrc=function(e){return this.element.setAttribute("src",e)},Video.fn.getState=function(){var e;return e=this.getCurrentTime()<1?Video.State.UNSTARTED:this.element.ended?Video.State.ENDED:this.isPaused()?Video.State.PAUSED:Video.State.PLAYING},Video.fn.recordCurrent=function(){this._recordObj={state:this.getState(),currentTime:this.getCurrentTime()}},Video.fn.resume=function(){this._recordObj&&(this._recordObj.state===Video.State.UNSTARTED||this._recordObj.state===Video.State.ENDED||(this._recordObj.state===Video.State.PLAYING?this.play():this._recordObj.state===Video.State.PAUSED&&this.pause()))},define("components/videonew/index",function(){}),Progress.prototype=new BaseComp,Progress.prototype.constructor=Progress,Progress.fn=Progress.prototype,Progress.EVENTS={PROCESS_STATE_CHANGE:"processStateChange",PROCESS_STATE_CHANGE_END:"processStateChangeEnd"},Progress.fn.parentInit=Progress.fn.init,Progress.fn.init=function(e){return Progress.fn.parentInit.call(this,e),this.options=e,this.element=e.element,this.onProcessStateChange=e.onProcessStateChange,this.onProcessStateChangeEnd=e.onProcessStateChangeEnd,this.slidebarInitialRate="undefined"!=typeof e.slidebarInitialRate?e.slidebarInitialRate:0,this.timeShowFormat=e.timeShowFormat||"00:00",this.totalbar=this.element.querySelector(".progress-bar.total"),this.bufferedbar=this.element.querySelector(".progress-bar.buffered"),this.processedbar=this.element.querySelector(".progress-bar.processed"),this.slidebar=this.element.querySelector(".processed-slide-bar"),this.totalTimeNode=this.element.querySelector(".progress-totaltime span"),this.playedTimeNode=this.element.querySelector(".progress-playedtime span"),this.lastTouchPos,this.isSlideMoving=!1,this.currentProcessedTimeMilliseconds=0,this._registerEvents(),this.setTotalTime(e.totalTime),this.setProcessedProcess(this.slidebarInitialRate),this},Progress.fn._registerEvents=function(){this.slidebar.addEventListener("touchstart",this._sildebarTouchStartHandler.bind(this)),this.slidebar.addEventListener("touchmove",throttle(this._sildebarTouchMoveHandler.bind(this),20)),this.slidebar.addEventListener("touchend",this._sildebarTouchEndHandler.bind(this)),this.totalbar.parentNode.addEventListener("click",this._processBarClickHandler.bind(this))},Progress.fn._sildebarTouchStartHandler=function(e){var t=e.targetTouches[0];this.lastTouchPos={x:t.clientX,y:t.clientY}},Progress.fn._sildebarTouchMoveHandler=function(e){if(!(e.targetTouches.length>1||e.scale&&1!==e.scale)){var t,n=e.targetTouches[0],i=this._getSldieMoveRange(n);if("rightExceed"==i)t=1;else if("leftExceed"==i)t=0;else{var r={x:n.clientX-this.lastTouchPos.x,y:n.clientY-this.lastTouchPos.y};this.lastTouchPos={x:n.clientX,y:n.clientY},t=(this.processedbar.offsetWidth+r.x)/this.totalbar.offsetWidth}this._processStateChangeHandler(t),this.isSlideMoving=!0}},Progress.fn._sildebarTouchEndHandler=function(e){this.isSlideMoving=!1,this.onProcessStateChangeEnd&&this.onProcessStateChangeEnd.call(null,this.currentProcessedTimeMilliseconds),this.trigger(Progress.EVENTS.PROCESS_STATE_CHANGE_END,this.currentProcessedTimeMilliseconds)},Progress.fn._getSldieMoveRange=function(e){var t=this.totalbar.getBoundingClientRect(),n=t.left,i=t.left+t.width;return e.clientX>i?"rightExceed":e.clientX<n?"leftExceed":"normal"},Progress.fn._processBarClickHandler=function(e){var t,n={clientX:e.clientX,clientY:e.clientY},i=this._getSldieMoveRange(n);if("rightExceed"==i)t=1;else if("leftExceed"==i)t=0;else{var r=this.processedbar.getBoundingClientRect(),o=r.left+r.width;distance=n.clientX-o,t=(this.processedbar.offsetWidth+distance)/this.totalbar.offsetWidth}this._processStateChangeHandler(t),this.onProcessStateChangeEnd&&this.onProcessStateChangeEnd.call(null,this.currentProcessedTimeMilliseconds),this.trigger(Progress.EVENTS.PROCESS_STATE_CHANGE_END,this.currentProcessedTimeMilliseconds),e.stopPropagation()},Progress.fn._processStateChangeHandler=function(e){this.processedbar.style.width=100*e+"%",this.currentProcessedTimeMilliseconds=this.totalTimeMilliSeconds*e,this.playedTimeNode.innerText=millisecondsToTimespan(this.currentProcessedTimeMilliseconds,3===this.timeShowFormat.split(":").length),this.onProcessStateChange&&this.onProcessStateChange.call(null,this.currentProcessedTimeMilliseconds)},Progress.fn._setInitialState=function(){this.processedbar.style.width=this.slidebarInitialRate},Progress.fn.setProcessedProcess=function(e){if(!this.isSlideMoving){var t;t=(""+e).indexOf("%")>-1?e:e/this.totalTimeMilliSeconds*100+"%",this.processedbar.style.width=t,this.setPlayedTime(e)}},Progress.fn.setBufferedProcess=function(e){this.bufferedbar.innerHTML="";for(var t=0,n=e.length;t<n;t++){this.bufferedbar.insertAdjacentHTML("beforeEnd",'<div id="buffered-section-'+t+'" class="progress-bar buffered-section"></div>');var i=this.bufferedbar.querySelector("#buffered-section-"+t);(""+e[t].start).indexOf("%")>-1?(e[t].start=percentToDecimal(e[t].start),e[t].end=percentToDecimal(e[t].end)):(e[t].start=millisecondsToDecimal(e[t].start,this.totalTimeMilliSeconds),e[t].end=millisecondsToDecimal(e[t].end,this.totalTimeMilliSeconds)),i.style.left=100*e[t].start+"%",i.style.width=100*(e[t].end-e[t].start)+"%"}},Progress.fn.setPlayedTime=function(e){(e+"").indexOf("%")>-1&&(e=this.totalTimeMilliSeconds*percentToDecimal(e)),(e+"").indexOf(":")==-1&&(e=millisecondsToTimespan(e)),this.playedTimeNode.innerText=e},Progress.fn.setTotalTime=function(e){e=e||this.timeShowFormat,(e+"").indexOf(":")==-1&&(e=millisecondsToTimespan(e)),this.totalTime=e||this.timeShowFormat,this.totalTimeMilliSeconds=timespanToMilliseconds(this.totalTime),this.totalTimeNode.innerText=this.totalTime},Progress.fn.getTotalTime=function(e){return this.totalTimeMilliSeconds},define("components/progress/index",function(){}),CloudLiveSrcGetter={getVideoUrlFromBFCloud:function(e){function t(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=_utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),c=c+_keyStr.charAt(r)+_keyStr.charAt(o)+_keyStr.charAt(a)+_keyStr.charAt(s);return c},this.decode=function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=_keyStr.indexOf(e.charAt(l++)),o=_keyStr.indexOf(e.charAt(l++)),a=_keyStr.indexOf(e.charAt(l++)),s=_keyStr.indexOf(e.charAt(l++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=_utf8_decode(c)},_utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode=function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}}function n(e){e=e||32;var t="ABC1DEFGH2IJK3LMNOQP4RSTU5VWXYZab6cdef8ghij7kmlnopq9rest0uvwxyz",n=t.length,i="";for(c=0;c<e;c++)i+=t.charAt(Math.floor(Math.random()*n));return i}var i,r,o,a,s=$.Deferred();if(o=e){r={},i=o.split("&");for(var c=0,l=i.length;c<l;c++)a=i[c].split("="),r[a[0]]=a[1]}var u=new t;r.vk="servicetype="+r.servicetype+"&uid="+r.uid+"&fid="+r.fid;var d=u.encode(r.vk);return d+=r.tk?"?tk="+r.tk+"&ifhtml5=true":"?ifhtml5=true",$.ajax({type:"GET",url:"http://livequery.baofengcloud.com/"+d,data:"",async:!1,dataType:"json",success:function(e){if(0!=parseInt(e.status))alert(""+e.status),s.reject();else{var t="";e.headpicurl.length>0&&(t=e.headpicurl);var i=e.usecomcdnflag,o=e.gcids[0].urllist[0];o=1==i?e.comcdnurl2:o.replace(":8081",":8080").replace("?key=",".m3u8?key=");var a="",c=o.match(/^((http:|https)\/\/[a-zA-Z0-9\.:]+\/)/i)[0];a+=c+r.uid+"/"+r.servicetype+"/"+o.split(c)[1],o=a,1==r.isautosize,s.resolve(o),$("video").on("play",function(){$("video").off("play"),$.ajax({type:"GET",url:"http://hlsonline.baofengcloud.com/"+e.gcids[0].gcid,data:"",async:!1,dataType:"json",success:function(t){if(0==t.status&&t.Ip.length>0){var i=t.Ip,r=n(32),o='{"gcid":"'+e.gcids[0].gcid+'", "peerid":"'+r+'"}';setInterval(function(){$.ajax({type:"POST",url:"http://"+i+"/ping",data:o,dataType:"json",success:function(e){}})},3e4)}}})})}}}),s.promise()}},define("components/videosrcgetter/cloudlive",function(){}),CloudVODSrcGetter={getVideoUrlFromBFCloud:function(e){function t(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=_utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),c=c+_keyStr.charAt(r)+_keyStr.charAt(o)+_keyStr.charAt(a)+_keyStr.charAt(s);return c},this.decode=function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=_keyStr.indexOf(e.charAt(l++)),o=_keyStr.indexOf(e.charAt(l++)),a=_keyStr.indexOf(e.charAt(l++)),s=_keyStr.indexOf(e.charAt(l++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=_utf8_decode(c)},_utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode=function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}}var n,i,r,o,a=$.Deferred(),s=navigator.userAgent,c=/iPhone/i.test(s),l=/iPad/i.test(s),u=/iPod/i.test(s),d=/WindowsWechat|(OS X (\d+)_)/.test(s),f=c||l||u;if(r=e){i={},n=r.split("&");for(var h=0,p=n.length;h<p;h++)o=n[h].split("="),i[o[0]]=o[1]}if(i.vk)var m=new t,v=m.encode(decodeURIComponent(i.vk));else{var m=new t;i.vk="servicetype="+i.servicetype+"&uid="+i.uid+"&fid="+i.fid;var v=m.encode(i.vk)}return v+=i.tk?"?tk="+i.tk+"&ifhtml5=true":"?ifhtml5=true",1==i.servicetype?$.ajax({type:"GET",url:"http://cdnqueryex.baofengcloud.com/"+v,data:"",async:!1,dataType:"json",success:function(e){if(i.fmatid&&i.fmatid>=0){for(var t in e.gcids)if(e.gcids[t].definition==i.fmatid){var n=e.gcids[t].usecomcdnflag;if(0==n)var r=e.gcids[t].urllist[0];else var r=e.gcids[t].comcdnurl2;break}if(!r||"undefined"==typeof r){var n=e.gcids[0].usecomcdnflag;if(0==n)var r=e.gcids[0].urllist[0];else var r=e.gcids[0].comcdnurl2}}else{var n=e.gcids[0].usecomcdnflag;if(0==n)var r=e.gcids[0].urllist[0];else var r=e.gcids[0].comcdnurl2}if(f){r=r.replace(/\.mp4/g,".m3u8"),0==n&&(r=r.replace(/\:443/g,":8088"));var o="",s=r.match(/^((http:|https)\/\/[a-zA-Z0-9\.:]+\/)/i)[0];o+=s+i.uid+"/"+i.servicetype+"/"+r.split(s)[1],r=o}else if(d);else{r=r.replace(/\.mp4/g,".m3u8"),0==n&&(r=r.replace(/\:443/g,":8088"));var o="",s=r.match(/^((http:|https)\/\/[a-zA-Z0-9\.:]+\/)/i)[0];o+=s+i.uid+"/"+i.servicetype+"/"+r.split(s)[1],r=o}a.resolve(r)},error:function(e){alert(decodeURI("%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E5%A4%B1%E8%B4%A5")),a.reject()}}):$.ajax({type:"GET",url:"http://cdnqueryex.baofengcloud.com/"+v,data:"",async:!1,dataType:"json",success:function(e){var t=e.urllist[0],n=e.usecomcdnflag;if(f){1==n&&(t=e.comcdnurl2)}else if(d);else{1==n&&(t=e.comcdnurl2)}a.resolve(t)},error:function(e){alert(decodeURI("%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E5%A4%B1%E8%B4%A5")),a.reject()}}),a.promise()}},define("components/videosrcgetter/cloudvod",function(){}),VideoSrcGetter={getSrc:function(e,t){var n=$.Deferred();if(Utils.browserInfo.isMobileDevice)e.play_code2?t?CloudLiveSrcGetter.getVideoUrlFromBFCloud(e.play_code2).then(function(e){n.resolve(e)}):CloudVODSrcGetter.getVideoUrlFromBFCloud(e.play_code2).then(function(e){n.resolve(e)}):e.play_code?VideoSrcGetter._getVideoUrl(e.play_code.cid,e.play_code.size).then(function(e){n.resolve(e)}):e.id&&!t&&VideoSrcGetter.getByVideoId(e.id).then(function(e){n.resolve(e)});else{var i=VideoSrcGetter.getPlayUrl(e);i?n.resolve(i):t||VideoSrcGetter.getByVideoId(e.id).then(function(e){n.resolve(e)})}return n.promise()},getByVideoId:function(e){var t=this,n=$.Deferred();return $.ajax({type:"get",url:"http://m.sports.baofeng.com/api/getVideoInfo/"+e,async:!0,dataType:"json",success:function(e){if(1===e.status)if(Utils.browserInfo.isMobileDevice)t._getVideoUrl(e.data.box_cid,e.data.file_size).then(function(e){n.resolve(e)});else{var i=VideoSrcGetter.getPlayUrl(e.data);n.resolve(i)}else alert(""),n.reject()},error:function(e,t){alert(""),n.reject()}}),n.promise()},getPlayUrl:function(e){var t;if(e.play_url)t=e.play_url;else if(e.play_code2){t=e.isvr?"http://live.baofengcloud.com/48853043/player/cloud.swf?"+e.play_code2+"&auto=1&si=1":"http://live.baofengcloud.com/48842737/player/cloud.swf?"+e.play_code2+"&auto=1&si=1"}return t},getByVideoCidAndSize:function(e,t){
var n=$.Deferred();return this._getVideoUrl(e,t).then(function(e){n.resolve(e)}),n.promise()},_getVideoUrl:function(e,t){var n=this,i=$.Deferred(),r="playerCallback",o="http://rd.p2p.baofeng.net/queryvp.php?type=3&gcid="+e+"&callback="+r;return window[r]=function(e){var o=n._convertToMp4Url(e,t);i.resolve(o);try{delete window[r]}catch(e){}window[r]=null},this._loadData(o),i.promise()},_loadData:function(e){var t,n=document.createElement("script"),i=!1;n.src=e,n.async=!0,n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},t||(t=document.getElementsByTagName("head")[0]),t.appendChild(n)},_convertToMp4Url:function(e,t){for(var n,i,r,o={b:"0",a:"1",o:"2",f:"3",e:"4",n:"5",g:"6",h:"7",t:"8",m:"9",l:".",c:"A",p:"B",z:"C",r:"D",y:"E",s:"F"},a=e.ip.split(","),s=e.port,c=e.path,l=e.key,u=[],d=0;d<a.length;d++){i=a[d],n="",r=i.length;for(var f=0;f<r;f++)n+=o[i.substr(f,1)];u.push("http://"+n+":"+s+"/"+c+"?key="+l)}return u[0]+"&filelen="+t}},define("components/videosrcgetter/index",function(){}),VideoControlPanel.prototype=new BaseComp,VideoControlPanel.prototype.constructor=VideoControlPanel,VideoControlPanel.fn=VideoControlPanel.prototype,VideoControlPanel.EVENTS={PLAY:"play",PAUSE:"pause",ENTERFULLSCREEN:"enterfullscreen",CLICK:"click"},VideoControlPanel.fn.parentInit=VideoControlPanel.fn.init,VideoControlPanel.fn.init=function(e){return VideoControlPanel.fn.parentInit.call(this,e),this.options=e,this.element=e.element,this.initialState=e.initialState||"readyToPlay",this.playBtns=this.element.querySelectorAll(".js-video-control-play"),this.fullScreenBtn=this.element.querySelector(".fullscreen-btn"),this.Parts={},this._initParts(),this._registerEvents(),this._initInitialState(),this},VideoControlPanel.fn._initParts=function(e){var t,n=this.element.querySelector(".progress");n&&(t=ProgressFactory({element:n,top:this}),this.Parts.progressComp=t)},VideoControlPanel.fn._registerEvents=function(){for(var e=this,t=0,n=this.playBtns.length;t<n;t++)this.playBtns[t].addEventListener("click",function(t){this.classList.contains("pause")?(this.classList.remove("pause"),e.trigger(VideoControlPanel.EVENTS.PAUSE)):(this.classList.add("pause"),e.trigger(VideoControlPanel.EVENTS.PLAY)),t.stopPropagation()});this.fullScreenBtn.addEventListener("click",function(t){e.trigger(VideoControlPanel.EVENTS.ENTERFULLSCREEN),t.stopPropagation()}),this.element.addEventListener("click",function(){e.trigger(VideoControlPanel.EVENTS.CLICK)})},VideoControlPanel.fn._initInitialState=function(){"readyToPlay"===this.initialState?this.setButtonPlay():"readyToPause"===this.initialState&&this.setButtonPause()},VideoControlPanel.fn.setButtonPlay=function(){for(var e=0,t=this.playBtns.length;e<t;e++)this.playBtns[e].classList.remove("pause")},VideoControlPanel.fn.setButtonPause=function(){for(var e=0,t=this.playBtns.length;e<t;e++)this.playBtns[e].classList.add("pause")},define("components/videocontrolpanel/index",function(){}),VideoPlayer.prototype=new BaseComp,VideoPlayer.prototype.constructor=VideoPlayer,VideoPlayer.fn=VideoPlayer.prototype,VideoPlayer.fn.parentInit=VideoPlayer.fn.init,VideoPlayer.fn.init=function(e){return VideoPlayer.fn.parentInit.call(this,e),this.options=e,this.element=e.element,this.isLive="undefined"!=typeof e.isLive&&e.isLive,this.controlPanelShowDuration="undefined"==typeof e.controlPanelShowDuration?6e3:e.controlPanelShowDuration,this.autoPlay="undefined"!=typeof e.autoPlay&&e.autoPlay,this.videoSrc="undefined"==typeof e.videoSrc?"undefined"==typeof this.element.getAttribute("data-videoSrc")?"":this.element.getAttribute("data-videoSrc"):e.videoSrc,this.autoConstruct="undefined"!=typeof e.autoConstruct&&e.autoConstruct,this.autoConstruct&&this._constructDom(),this.video=this.element.querySelector(".video"),this.controlPanel=this.element.querySelector(".video-control-panel"),this.loadingMask=this.element.querySelector(".loading-mask"),this.Parts={},this._initParts(),this._registerEvents(),this._initInitialState(),this},VideoPlayer.fn._constructDom=function(){this._constructVideo(),this._constructControlPanel()},VideoPlayer.fn._constructVideo=function(){this.element.insertAdjacentHTML("beforeEnd",'<video class="video" width="100%" height="100%" src="'+this.videoSrc+'" webkit-playsinline playsinline="true" preload="metadata"></video>')},VideoPlayer.fn._constructControlPanel=function(){var e=['<div class="video-control-panel">','\t<div class="bigplay pause js-video-control-play"></div>','\t<div class="video-control-bar">','\t\t<button class="fullscreen-btn"></button>','\t\t<div class="progress">','\t\t\t<div class="progress-playedtime">',"\t\t\t\t<span >00:00</span>","\t\t\t</div>",'\t\t\t<div class="progress-totaltime">',"\t\t\t\t<span>00:00</span>","\t\t\t</div>",'\t\t\t<div class="progress-bar-wrapper">','\t\t\t\t<div class="progress-bar total"></div>','\t\t\t\t<div class="progress-bar buffered"></div>','\t\t\t\t<div class="progress-bar processed">','\t\t\t\t\t<div class="processed-slide-bar">',"\t\t\t\t\t</div>","\t\t\t\t</div>","\t\t\t</div>","\t\t</div>","\t</div>","</div>",'<div class="loading-mask">...</div>'];this.element.insertAdjacentHTML("beforeEnd",e.join(""))},VideoPlayer.fn._initParts=function(){var e,t,n=this;if(this.video&&(e=VideoFactory({element:this.video,Top:this}),this.Parts.videoComp=e,e.on("click",function(){t.show(),n.timeout=setTimeout(function(){t.hide()},n.controlPanelShowDuration)}),e.on("canplay",function(){Utils.browserInfo.isAndroid||n.loadingMask.classList.add("hide")}),e.on("play",function(){t.setButtonPause()}),e.on("pause",function(){t.setButtonPlay()}),e.on("loadedmetadata",function(){!n.isLive&&t.invoke("setTotalTime",e.getDuration())}),e.on("timeupdate",function(){var i=t.Parts.progressComp.getTotalTime();Utils.browserInfo.isAndroid&&0===i&&0!==e.getDuration()&&t.invoke("setTotalTime",e.getDuration()),Utils.browserInfo.isAndroid&&e.getCurrentTime()>0&&!n.loadingMask.classList.contains("hide")&&n.loadingMask.classList.add("hide"),n.isLive&&Utils.browserInfo.isAndroid&&!n.loadingMask.classList.contains("hide")&&n.loadingMask.classList.add("hide");var r=e.getCurrentTime();t.invoke("setProcessedProcess",r)}),e.on("progress",function(){for(var n=[],i=e.getBuffered(),r=(e.getCurrentTime(),0),o=i.length;r<o;r++)n.push({start:1e3*i.start(r),end:1e3*i.end(r)});t.invoke("setBufferedProcess",n)}),e.on("ended",function(){t.setButtonPlay(),t.show()})),this.controlPanel){var i=this.autoPlay?"readyToPause":"readyToPlay";t=VideoControlPanelFactory({element:this.controlPanel,initialState:i,Top:this}),this.isLive&&t.Parts.progressComp.setProcessedProcess("100%"),this.Parts.controlPanelComp=t,t.on(VideoControlPanel.EVENTS.CLICK,function(){this.hide()}),t.on(VideoControlPanel.EVENTS.PLAY,function(){e.getHasStarted()||n.showLoading(),e.play(),t.hide()}),t.on(VideoControlPanel.EVENTS.PAUSE,function(){e.pause()}),t.on(VideoControlPanel.EVENTS.ENTERFULLSCREEN,function(){return Utils.isInApp&&Utils.browserInfo.isIos?void e.enterFullScreen():void(n.isFullScreen()?n.exitFullScreen():n.enterFullScreen())}),t.on(Progress.EVENTS.PROCESS_STATE_CHANGE_END,function(t){e.setCurrentTime(t)})}},VideoPlayer.fn._registerEvents=function(){},VideoPlayer.fn._initInitialState=function(){this.videoSrc&&this.invoke("setVideoSrc",this.videoSrc),this.autoPlay?this.showLoading():this.hideLoading()},VideoPlayer.fn.isFullScreen=function(){return this.hasClass("is-fullscreen")},VideoPlayer.fn.enterFullScreen=function(){this.addClass("is-fullscreen"),DeviceApi.videoEnterFullScreen()},VideoPlayer.fn.exitFullScreen=function(){this.removeClass("is-fullscreen"),DeviceApi.videoExitFullScreen()},VideoPlayer.fn.showLoading=function(){},VideoPlayer.fn.hideLoading=function(){},define("components/videoplayer/index",function(){}),VideoPlayerShare.prototype=new VideoPlayer,VideoPlayerShare.prototype.constructor=VideoPlayerShare,VideoPlayerShare.fn=VideoPlayerShare.prototype,VideoPlayerShare.fn.parentInit=VideoPlayerShare.fn.init,VideoPlayerShare.fn.init=function(e){var t=this,n=function(n){this.element.classList.add("video-player"),this._constructOther(),Utils.browserInfo.isMobileDevice?(e.videoSrc=n,e.autoConstruct=!0,VideoPlayerShare.fn.parentInit.call(this,e),this.element.querySelector("a").addEventListener("click",function(){this.style.zIndex=-9,t.invoke("play"),t.Parts.controlPanelComp.hide()})):(t.element.style.height=9*t.element.offsetWidth/16+"px",t.element.insertAdjacentHTML("beforeEnd",'<div class="loading-mask">...</div>'),this.element.querySelector("a").addEventListener("click",function(){this.style.zIndex=-9,"undefined"==typeof window.sBIAOSHSHIFOUYINRU&&Utils.loadJs("http://www.baofengcloud.com/html/src/cloudsdk.js",function(){window.sBIAOSHSHIFOUYINRU="isexist",window.videoareaname="videoarea_"+Utils.randomString(5),t.element.insertAdjacentHTML("beforeEnd",'<div id="'+videoareaname+'"></div>');var e=n;cloudsdk.initplay(window.videoareaname,{src:e,id:"cloudsdk",isautosize:"1"})})})),e.afterInit&&e.afterInit.call(this,e)};this.element=e.element,this.isLive=e.isLive,this.createDownButton="undefined"!=typeof e.createDownButton&&e.createDownButton;var i=this.element.querySelector("[data-video]");if(i){var r=i.getAttribute("data-video"),o=JSON.parse(r);VideoSrcGetter.getSrc(o,this.isLive).then(n.bind(this))}else{i=this.element.querySelector("a[data-vid],a[title]");var a=i.getAttribute("data-vid")||i.getAttribute("title");VideoSrcGetter.getByVideoId(a).then(n.bind(this))}return this},VideoPlayerShare.fn._constructOther=function(){this.createDownButton&&(this.element.nextElementSibling&&this.element.nextElementSibling.classList.contains("video-title")?this.element.nextElementSibling.insertAdjacentHTML("afterEnd",'<a class="button button-block" href="http://a.app.qq.com/o/simple.jsp?pkgname=com.sports.baofeng" target="_blank"><i class="fa fa-angle-right fa-lg icon"></i></a>'):this.element.insertAdjacentHTML("afterEnd",'<a class="button button-block" href="http://a.app.qq.com/o/simple.jsp?pkgname=com.sports.baofeng" target="_blank"><i class="fa fa-angle-right fa-lg icon"></i></a>'))},define("components/videoplayershare/index",function(){}),VideoList.prototype=new BaseComp,VideoList.prototype.constructor=VideoList,VideoList.fn=VideoList.prototype,VideoList.fn.init=function(e){this.element=e.element,this.swiperWrapper=this.element.querySelector(".swiper-wrapper"),this.countAll=this.swiperWrapper.querySelectorAll(".swiper-slide").length;var t=this.swiperWrapper.querySelector(".swiper-slide"),n=t.offsetWidth,i=$(t).css("margin-right"),r=i.substring(0,i.length-2);return this.swiperWrapper.style.width=this.countAll*(n+r)+"px",this._registerEvents(),this},VideoList.fn._registerEvents=function(){for(var e=this,t=this.element.querySelectorAll(".swiper-slide"),n=0,i=t.length;n<i;n++)$(t[n]).on("touchstart touchmove touchend",function(t){switch(t.type){case"touchstart":falg=!1;break;case"touchmove":falg=!0;break;case"touchend":if(!falg){var n=this.getAttribute("data-video"),i=JSON.parse(n);e.trigger("videolist.videoSelect",i);var r=e.element.querySelector(".slide-video-wrapper.playing");r.classList.remove("playing"),r.querySelector(".tag").innerHTML=r.parentNode.getAttribute("data-chapter"),this.querySelector(".slide-video-wrapper").classList.add("playing"),this.querySelector(".tag").innerHTML=""}}})},define("components/videolist/index",function(){}),Toast.fn=Toast.prototype,Toast.fn.init=function(e){return this.element=e.element,this.onAnswerSubmit=e.onAnswerSubmit,this._registerEvents(),this},Toast.fn._registerEvents=function(){var e=this;this.element.querySelector(".close").addEventListener("click",function(){e.element.classList.add("hide")})},Toast.fn.show=function(){this.element.classList.remove("hide")},Toast.fn.hide=function(){this.element.classList.add("hide")},define("components/toast/index",function(){}),ChannelShare.fn=ChannelShare.prototype,ChannelShare.fn.browser={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},ChannelShare.fn.init=function(){this.replaceDownloadUrl(),this.downloadButton.click(function(e){e.preventDefault(),DeviceApi.loadSchema(DeviceApi.getAppUrl($(this).data("info")),$(this).data("url"))})},ChannelShare.fn.queryString=function(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=e.split("?"),r=i.length>1&&i[1].match(n);return null!=r?unescape(r[2]):null},ChannelShare.fn.replaceDownloadUrl=function(){var e=this.queryString(window.location.href,"channel");if(!e||"undefined"===e)return!1;var t=this.getDownloadUrl(e);this.replaceUrl(t),_hmt.push(["_trackEvent",e,"download","channel app"])},ChannelShare.fn.getDownloadUrl=function(e){return"http://wx.dl.baofeng.com/mobile/bfsport/bfsports_"+e+".apk"},ChannelShare.fn.replaceUrl=function(e){this.downloadButton.data("url",e)},ChannelShare.fn.replaceRelatedUrl=function(){var e=window.location.search;return""!=e&&void this.newsA.each(function(){var t=$(this).data("url");$(this).data("url",t+e)})},define("components/channel/index",function(){}),SharePage.fn=SharePage.prototype,SharePage.fn.init=function(){var e,t;t=(e=window.location.href.split("__appurl="))&&e[1],t&&DeviceApi.openApp(t)},define("components/sharepage/index",function(){}),function(e){"function"==typeof define&&define.amd?define("components/libs/lazyload",["./zepto.min"],e):e(window.jQuery||window.Zepto)}(function(e,t){function n(){}function i(e,t){var n;return n=t._$container==f?("innerHeight"in d?d.innerHeight:f.height())+f.scrollTop():t._$container.offset().top+t._$container.height(),n<=e.offset().top-t.threshold}function r(t,n){var i;return i=n._$container==f?f.width()+(e.fn.scrollLeft?f.scrollLeft():d.pageXOffset):n._$container.offset().left+n._$container.width(),i<=t.offset().left-n.threshold}function o(e,t){var n;return n=t._$container==f?f.scrollTop():t._$container.offset().top,n>=e.offset().top+t.threshold+e.height()}function a(t,n){var i;return i=n._$container==f?e.fn.scrollLeft?f.scrollLeft():d.pageXOffset:n._$container.offset().left,i>=t.offset().left+n.threshold+t.width()}function s(e,t){var n=0;e.each(function(s,c){function l(){u.trigger("_lazyload_appear"),n=0}var u=e.eq(s);if(!(u.width()<=0&&u.height()<=0||"none"===u.css("display")))if(t.vertical_only)if(o(u,t));else if(i(u,t)){if(++n>t.failure_limit)return!1}else l();else if(o(u,t)||a(u,t));else if(i(u,t)||r(u,t)){if(++n>t.failure_limit)return!1}else l()})}function c(e){return e.filter(function(t,n){return!e.eq(t)._lazyload_loadStarted})}function l(e,t){function n(){a=0,s=+new Date,o=e.apply(i,r),i=null,r=null}var i,r,o,a,s=0;return function(){i=this,r=arguments;var e=new Date-s;return a||(e>=t?n():a=setTimeout(n,t-e)),o}}var u,d=window,f=e(d),h={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:d,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:n,load:n,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:n,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};u=function(){var e=Object.prototype.toString;return function(t){return e.call(t).replace("[object ","").replace("]","")}}(),e.fn.hasOwnProperty("lazyload")||(e.fn.lazyload=function(t){var i,r,o,a=this;return e.isPlainObject(t)||(t={}),e.each(h,function(n,i){e.inArray(n,["threshold","failure_limit","check_appear_throttle_time"])!=-1?"String"==u(t[n])?t[n]=parseInt(t[n],10):t[n]=i:"container"==n?(t.hasOwnProperty(n)?t[n]==d||t[n]==document?t._$container=f:t._$container=e(t[n]):t._$container=f,delete t.container):!h.hasOwnProperty(n)||t.hasOwnProperty(n)&&u(t[n])==u(h[n])||(t[n]=i)}),i="scroll"==t.event,o=0==t.check_appear_throttle_time?s:l(s,t.check_appear_throttle_time),r=i||"scrollstart"==t.event||"scrollstop"==t.event,a.each(function(i,o){var s=this,l=a.eq(i),u=l.attr("src"),d=l.attr("data-"+t.data_attribute),f=t.url_rewriter_fn==n?d:t.url_rewriter_fn.call(s,l,d),h=l.attr("data-"+t.data_srcset_attribute),p=l.is("img");return 1==l._lazyload_loadStarted||u==f?(l._lazyload_loadStarted=!0,void(a=c(a))):(l._lazyload_loadStarted=!1,p&&!u&&l.one("error",function(){l.attr("src",t.placeholder_real_img)}).attr("src",t.placeholder_data_img),l.one("_lazyload_appear",function(){function i(){r&&l.hide(),p?(h&&l.attr("srcset",h),f&&l.attr("src",f)):l.css("background-image",'url("'+f+'")'),r&&l[t.effect].apply(l,o?t.effect_params:[]),a=c(a)}var r,o=e.isArray(t.effect_params);l._lazyload_loadStarted||(r="show"!=t.effect&&e.fn[t.effect]&&(!t.effect_params||o&&0==t.effect_params.length),t.appear!=n&&t.appear.call(s,l,a.length,t),l._lazyload_loadStarted=!0,t.no_fake_img_loader||h?(t.load!=n&&l.one("load",function(){t.load.call(s,l,a.length,t)}),i()):e("<img />").one("load",function(){i(),t.load!=n&&t.load.call(s,l,a.length,t)}).attr("src",f))}),void(r||l.on(t.event,function(){l._lazyload_loadStarted||l.trigger("_lazyload_appear")})))}),r&&t._$container.on(t.event,function(){o(a,t)}),f.on("resize load",function(){o(a,t)}),e(function(){o(a,t)}),this})}),require.config({baseUrl:"src/scss"}),require(["components/libs/fastclick","components/libs/zepto.min","components/deviceapi/index","components/libs/lazyload"],function(){function e(){return this}function t(t){return(new e).init(t)}e.fn=e.prototype,e.fn.init=function(e){return this.element=e.element,this._registerEvents(),$(".lazy").lazyload({threshold:200,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAACUCAIAAABzxgDqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OEE1RDM4NDdGQTUxMUU2QUJFM0U3ODMwNDJFNzc0MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0OEE1RDM4NTdGQTUxMUU2QUJFM0U3ODMwNDJFNzc0MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ4QTVEMzgyN0ZBNTExRTZBQkUzRTc4MzA0MkU3NzQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ4QTVEMzgzN0ZBNTExRTZBQkUzRTc4MzA0MkU3NzQzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+A/TOewAAAw1JREFUeNrs3W1P2lAYgOEdXn1DjTGY+P//WqNpiKbgBKzSndiFdXXTUmOs23V9WEJTMXm4pRzoaEiS5Bt0T88IkCZIE2mCNJEmSBOkiTRBmkgTpAnSRJogTaQJ0kSaIE2QJtIEaSJNkCZIE2mCNJEmSBNpgjRBmkgTpIk0QZogTaQJ0kSaIE2kCdIEaSJNkCbSBGmCNPlaBkZQur29vbu7K4qivDkejy8uLmr7JEny9PS0vRl3iLu1/o15ns9ms/jvdksIYTKZnJ6eejik+ctisajeXK/XaZpWt8Rqq12WNfd6LQ878a6qUW5/RfzzkKY037BarV7f4eHhwZS81kSaIE2QJpZB/4rRaHR+fl7dMp/P4/K5uiXuEHdrceflYv/7M6OW5m5CCIPBb8N5+T5Rv9+v7dPccDjc29uLgb75PoADOp8g1mkI0uzk9HvmL02kCZZBHyguUGrrcR9LSrMTHh8fb25uzMEBHaSJNEGaX3ixZQjS7Jw8z32GboW+syand8xmsxBCizvfbDbFM3OW5s6anN7xEYfjfr9v+A7oXXRycmIInjU79kgMBmdnZ85F8qzZxZcQhiDNji7Y0zS9v783Cgf01zQ5vWN/f7/1qqU8v/3lIj3LsoODA/OX5l81Ob3j+Pj4PV8sE+u8vr6uLfO9Ce+A/vniM+7h4aE5SLOjdRqCNK3KpQnSxAr9vzMajabTaXVLlmW17+BEmp/zKrB2PofXhQ7oIE2kyR85m1iaHbVerw3BMmg3TU7vWC6XL69i0UT5HzDiHcZ7MGpp7qbJ6R3z+dygHNCRJkgTpIk0wQr9Qw2Hw9qVfYuiuLq62mw22y2Xl5etv4w9z/Msy1z+Qppvm0wm1YtO957V9ql+eDMej1tfmaX88el0mqZptc4QwtHRkcfi5zSSJDEFvNYEaSJNkCbSBGmCNJEmSBNpgjRBmkgTpIk0QZpIE6QJ0kSaIE2kCdIEaSJNkCbSBGkiTZAmSBNpgjSRJkgTpIk0QZpIE6SJNEGaIE2kCdJEmiBNkCbShPf6IcAAWm4GAK9Hk8AAAAAASUVORK5CYII="}),this},e.fn._registerEvents=function(){},t({element:document})}),define("components/page/index",function(){}),require.config({baseUrl:"src/scss"}),require(["components/libs/fastclick","components/libs/zepto.min","components/libs/iphone-inline-video.browser","components/deviceapi/index","components/button/index","components/abase/util","components/abase/index","components/listitem/index","components/list/index","components/videonew/index","components/progress/index","components/videosrcgetter/cloudlive","components/videosrcgetter/cloudvod","components/videosrcgetter/index","components/videocontrolpanel/index","components/videoplayer/index","components/videoplayershare/index","components/videolist/index","components/toast/index","components/channel/index","components/sharepage/index","components/page/index"],function(e){SharePageFactory(),e.attach(document.body),ChannelShareFactory();for(var t,n=(document.querySelector(".quiz"),document.querySelector(".downloadtoast")),i=document.querySelectorAll(".button"),r=0,o=i.length;r<o;r++)ButtonFactory({element:i[r]});var a,s=document.querySelector(".embed-video");s&&(a=VideoPlayerShareFactory({element:s,createDownButton:!1})),n&&(t=ToastFactory({element:n}));var c=document.querySelector(".video-list");if(c){var l=(c.getAttribute("data-playing"),c.querySelectorAll(".swiper-slide"),VideoListFactory({element:document.querySelector(".video-list")}));l.on("videolist.videoSelect",function(e){VideoSrcGetter.getSrc(e).then(function(e){a.Parts.videoComp.setSrc(e),a.Parts.videoComp.play()})})}var u=document.querySelector(".list");u&&ListFactory({element:u}),$(".go")&&$(".go").click(function(e){e.preventDefault(),DeviceApi.jumpTo(this)})}),define("matchfinished",function(){});